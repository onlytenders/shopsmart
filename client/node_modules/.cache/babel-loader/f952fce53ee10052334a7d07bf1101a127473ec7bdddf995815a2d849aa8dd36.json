{"ast":null,"code":"var _jsxFileName = \"/Users/rahatmustafin/Documents/Projects/ShopSmart/client/src/components/Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5001\";\nfunction Dashboard() {\n  _s();\n  const [lists, setLists] = useState([]);\n  const navigate = useNavigate();\n  const getAuthHeaders = () => ({\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n    }\n  });\n  useEffect(() => {\n    axios.get(`${API_URL}/lists`, getAuthHeaders()).then(res => {\n      setLists(res.data);\n    }).catch(err => {\n      var _err$response, _err$response2;\n      console.error(\"Error fetching lists:\", ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message);\n      if (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 401) navigate(\"/login\");\n    });\n  }, [navigate]);\n  const createList = () => {\n    axios.post(`${API_URL}/lists`, {}, getAuthHeaders()).then(res => {\n      navigate(`/list/${res.data.listId}`);\n    }).catch(err => console.error(\"Error creating list:\", err));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u041C\\u043E\\u0438 \\u0441\\u043F\\u0438\\u0441\\u043A\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: createList,\n      children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043D\\u043E\\u0432\\u044B\\u0439 \\u0441\\u043F\\u0438\\u0441\\u043E\\u043A\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: lists.map(list => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: `/list/${list.id}`,\n          children: [\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \", list.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this)\n      }, list.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"NoX0H3N5SeRCzHJIetBfxcPBkws=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","jsxDEV","_jsxDEV","API_URL","process","env","REACT_APP_API_URL","Dashboard","_s","lists","setLists","navigate","getAuthHeaders","headers","Authorization","localStorage","getItem","get","then","res","data","catch","err","_err$response","_err$response2","console","error","response","message","status","createList","post","listId","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","list","href","id","_c","$RefreshReg$"],"sources":["/Users/rahatmustafin/Documents/Projects/ShopSmart/client/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5001\";\n\nfunction Dashboard() {\n  const [lists, setLists] = useState([]);\n  const navigate = useNavigate();\n\n  const getAuthHeaders = () => ({\n    headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n  });\n\n  useEffect(() => {\n    axios\n      .get(`${API_URL}/lists`, getAuthHeaders())\n      .then((res) => {\n        setLists(res.data);\n      })\n      .catch((err) => {\n        console.error(\"Error fetching lists:\", err.response?.data || err.message);\n        if (err.response?.status === 401) navigate(\"/login\");\n      });\n  }, [navigate]);\n\n  const createList = () => {\n    axios\n      .post(`${API_URL}/lists`, {}, getAuthHeaders())\n      .then((res) => {\n        navigate(`/list/${res.data.listId}`);\n      })\n      .catch((err) => console.error(\"Error creating list:\", err));\n  };\n\n  return (\n    <div className=\"container\">\n      <h1>Мои списки</h1>\n      <button onClick={createList}>Создать новый список</button>\n      <ul>\n        {lists.map((list) => (\n          <li key={list.id}>\n            <a href={`/list/${list.id}`}>Список {list.id}</a>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}