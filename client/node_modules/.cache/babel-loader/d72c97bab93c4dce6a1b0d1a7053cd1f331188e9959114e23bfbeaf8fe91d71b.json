{"ast":null,"code":"var _jsxFileName = \"/Users/rahatmustafin/Documents/Projects/ShopSmart/client/src/components/ShoppingList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport io from \"socket.io-client\";\nimport \"../styles/ShoppingList.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:5001\";\nconst socket = io(API_URL, {\n  autoConnect: false,\n  reconnection: true,\n  reconnectionAttempts: 5,\n  reconnectionDelay: 1000\n});\nconst ShoppingList = () => {\n  _s();\n  const {\n    listId\n  } = useParams();\n  const navigate = useNavigate();\n  const [items, setItems] = useState([]);\n  const [newItem, setNewItem] = useState(\"\");\n  const [members, setMembers] = useState([]);\n  const [owner, setOwner] = useState(\"\");\n  const [ownerEmail, setOwnerEmail] = useState(\"\");\n  const [listName, setListName] = useState(\"\");\n  const [currentUserId, setCurrentUserId] = useState(\"\");\n  const [notification, setNotification] = useState(\"\");\n  const getAuthHeaders = () => ({\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n    }\n  });\n  const fetchList = async () => {\n    try {\n      console.log(\"Fetching list:\", listId);\n      const res = await axios.get(`${API_URL}/lists/${listId}`, getAuthHeaders());\n      console.log(\"List data received:\", res.data);\n      setItems(res.data.items || []);\n      setMembers(res.data.members || []);\n      setOwner(res.data.owner);\n      setOwnerEmail(res.data.ownerEmail);\n      setListName(res.data.name);\n      setCurrentUserId(res.data.currentUserId);\n    } catch (err) {\n      var _err$response, _err$response2, _err$response3, _err$response3$data, _err$response4, _err$response5;\n      console.error(\"Error fetching list:\", ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err);\n      const errorMessage = ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 403 ? \"Вы не участник этого списка\" : ((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.error) || \"Ошибка при загрузке списка\";\n      setNotification(errorMessage);\n      setTimeout(() => setNotification(\"\"), 3000);\n      if (((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : _err$response4.status) === 403 || ((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : _err$response5.status) === 404) {\n        navigate(\"/dashboard\");\n      }\n    }\n  };\n  useEffect(() => {\n    console.log(\"Setting up socket for list:\", listId, \"user:\", localStorage.getItem(\"userId\"));\n    socket.connect();\n    axios.get(`${API_URL}/lists/${listId}`, getAuthHeaders()).then(res => {\n      console.log(\"List data:\", res.data);\n      setItems(res.data.items || []);\n      setMembers(res.data.members.sort((a, b) => a.joinedAt - b.joinedAt));\n      setOwnerId(res.data.owner);\n      setOwnerEmail(res.data.ownerEmail || \"Неизвестно\");\n      setListName(res.data.name);\n      setCurrentUserId(res.data.currentUserId);\n    }).catch(err => {\n      var _err$response6, _err$response7, _err$response8;\n      console.error(\"Error fetching list:\", ((_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : _err$response6.data) || err);\n      if (((_err$response7 = err.response) === null || _err$response7 === void 0 ? void 0 : _err$response7.status) === 404) {\n        navigate(\"/dashboard\", {\n          state: {\n            notification: \"Список не найден или вы были удалены\"\n          }\n        });\n      } else if (((_err$response8 = err.response) === null || _err$response8 === void 0 ? void 0 : _err$response8.status) === 403) {\n        navigate(\"/dashboard\", {\n          state: {\n            notification: \"Вы не участник этого списка\"\n          }\n        });\n      } else {\n        navigate(\"/dashboard\");\n      }\n    });\n    socket.on(\"listUpdated\", ({\n      items,\n      members,\n      name\n    }) => {\n      console.log(\"Received listUpdated:\", {\n        items,\n        members,\n        name\n      });\n      setItems(items || []);\n      setMembers(members ? members.sort((a, b) => a.joinedAt - b.joinedAt) : []);\n      if (name) setListName(name);\n    });\n    socket.on(\"kickedFromList\", ({\n      listId: kickedListId,\n      name\n    }) => {\n      console.log(\"Received kickedFromList:\", {\n        kickedListId,\n        name\n      }, \"Current listId:\", listId);\n      if (kickedListId === listId) {\n        navigate(\"/dashboard\", {\n          state: {\n            notification: `Владелец списка удалил вас из \"${name}\"`\n          }\n        });\n      }\n    });\n    fetchList();\n    return () => {\n      console.log(\"Cleaning up socket for list:\", listId);\n      socket.off(\"connect\");\n      socket.off(\"connect_error\");\n      socket.off(\"listUpdated\");\n      socket.off(\"kickedFromList\");\n      socket.disconnect();\n    };\n  }, [listId]);\n  const addItem = async () => {\n    if (!newItem) return;\n    try {\n      console.log(\"Sending add item:\", newItem, \"to list:\", listId);\n      const res = await axios.post(`${API_URL}/lists/items/${listId}`, {\n        name: newItem\n      }, getAuthHeaders());\n      console.log(\"Add item response:\", res.data);\n      setItems(res.data.items);\n      socket.emit(\"updateList\", {\n        listId,\n        items: res.data.items\n      });\n      setNewItem(\"\");\n    } catch (err) {\n      var _err$response9, _err$response0, _err$response1, _err$response1$data;\n      console.error(\"Error adding item:\", ((_err$response9 = err.response) === null || _err$response9 === void 0 ? void 0 : _err$response9.data) || err);\n      const errorMessage = ((_err$response0 = err.response) === null || _err$response0 === void 0 ? void 0 : _err$response0.status) === 404 ? \"Список не найден\" : ((_err$response1 = err.response) === null || _err$response1 === void 0 ? void 0 : (_err$response1$data = _err$response1.data) === null || _err$response1$data === void 0 ? void 0 : _err$response1$data.error) || \"Ошибка при добавлении товара\";\n      setNotification(errorMessage);\n      setTimeout(() => setNotification(\"\"), 3000);\n    }\n  };\n  const toggleItemCompletion = async (itemId, completed) => {\n    try {\n      console.log(\"Sending toggle item:\", itemId, \"to completed:\", completed);\n      const res = await axios.put(`${API_URL}/lists/items/${itemId}/complete`, {\n        completed\n      }, getAuthHeaders());\n      console.log(\"Toggle item response:\", res.data);\n      setItems(res.data.items);\n      socket.emit(\"updateList\", {\n        listId,\n        items: res.data.items\n      });\n    } catch (err) {\n      var _err$response10, _err$response11, _err$response12, _err$response12$data;\n      console.error(\"Error toggling item:\", ((_err$response10 = err.response) === null || _err$response10 === void 0 ? void 0 : _err$response10.data) || err);\n      const errorMessage = ((_err$response11 = err.response) === null || _err$response11 === void 0 ? void 0 : _err$response11.status) === 404 ? \"Элемент или список не найден\" : ((_err$response12 = err.response) === null || _err$response12 === void 0 ? void 0 : (_err$response12$data = _err$response12.data) === null || _err$response12$data === void 0 ? void 0 : _err$response12$data.error) || \"Ошибка при обновлении статуса товара\";\n      setNotification(errorMessage);\n      setTimeout(() => setNotification(\"\"), 3000);\n    }\n  };\n  const deleteCompletedItems = async () => {\n    try {\n      console.log(\"Sending delete completed items for list:\", listId);\n      const res = await axios.delete(`${API_URL}/lists/${listId}/items/completed`, {\n        headers: getAuthHeaders().headers\n      });\n      console.log(\"Delete completed items response:\", res.data);\n      setItems(res.data.items);\n      socket.emit(\"updateList\", {\n        listId,\n        items: res.data.items\n      });\n    } catch (err) {\n      var _err$response13, _err$response14, _err$response15, _err$response15$data;\n      console.error(\"Error deleting completed items:\", ((_err$response13 = err.response) === null || _err$response13 === void 0 ? void 0 : _err$response13.data) || err);\n      const errorMessage = ((_err$response14 = err.response) === null || _err$response14 === void 0 ? void 0 : _err$response14.status) === 404 ? \"Список не найден\" : ((_err$response15 = err.response) === null || _err$response15 === void 0 ? void 0 : (_err$response15$data = _err$response15.data) === null || _err$response15$data === void 0 ? void 0 : _err$response15$data.error) || \"Ошибка при удалении отмеченных товаров\";\n      setNotification(errorMessage);\n      setTimeout(() => setNotification(\"\"), 3000);\n    }\n  };\n  const shareList = async () => {\n    try {\n      console.log(\"Sharing list:\", listId);\n      const listUrl = `${window.location.origin}/list/${listId}`;\n      await navigator.clipboard.writeText(listUrl);\n      setNotification(\"Ссылка на список скопирована!\");\n      setTimeout(() => setNotification(\"\"), 3000);\n    } catch (err) {\n      console.error(\"Error sharing list:\", err);\n      setNotification(\"Ошибка при копировании ссылки\");\n      setTimeout(() => setNotification(\"\"), 3000);\n    }\n  };\n  const leaveList = async () => {\n    try {\n      console.log(\"Sending leave list:\", listId);\n      const res = await axios.post(`${API_URL}/lists/${listId}/leave`, {}, getAuthHeaders());\n      console.log(\"Leave list response:\", res.data);\n      setNotification(res.data.message);\n      setTimeout(() => navigate(\"/dashboard\"), 2000);\n    } catch (err) {\n      var _err$response16, _err$response17, _err$response17$data;\n      console.error(\"Error leaving list:\", ((_err$response16 = err.response) === null || _err$response16 === void 0 ? void 0 : _err$response16.data) || err);\n      const errorMessage = ((_err$response17 = err.response) === null || _err$response17 === void 0 ? void 0 : (_err$response17$data = _err$response17.data) === null || _err$response17$data === void 0 ? void 0 : _err$response17$data.error) || \"Ошибка при выходе из списка\";\n      setNotification(errorMessage);\n      setTimeout(() => setNotification(\"\"), 3000);\n    }\n  };\n  const removeMember = async userId => {\n    try {\n      console.log(\"Sending remove member:\", userId, \"from list:\", listId);\n      const res = await axios.delete(`${API_URL}/lists/${listId}/members/${userId}`, getAuthHeaders());\n      console.log(\"Remove member response:\", res.data);\n      setNotification(res.data.message);\n      setTimeout(() => setNotification(\"\"), 3000);\n      setMembers(members.filter(m => m.userId !== userId));\n      socket.emit(\"updateList\", {\n        listId,\n        members: members.filter(m => m.userId !== userId)\n      });\n    } catch (err) {\n      var _err$response18, _err$response19, _err$response19$data;\n      console.error(\"Error removing member:\", ((_err$response18 = err.response) === null || _err$response18 === void 0 ? void 0 : _err$response18.data) || err);\n      const errorMessage = ((_err$response19 = err.response) === null || _err$response19 === void 0 ? void 0 : (_err$response19$data = _err$response19.data) === null || _err$response19$data === void 0 ? void 0 : _err$response19$data.error) || \"Ошибка при удалении участника\";\n      setNotification(errorMessage);\n      setTimeout(() => setNotification(\"\"), 3000);\n    }\n  };\n  const updateListName = async () => {\n    try {\n      console.log(\"Sending update list name to:\", listName, \"for list:\", listId);\n      const res = await axios.put(`${API_URL}/lists/${listId}`, {\n        name: listName\n      }, getAuthHeaders());\n      console.log(\"Update list name response:\", res.data);\n      setNotification(res.data.message);\n      setTimeout(() => setNotification(\"\"), 3000);\n      socket.emit(\"updateList\", {\n        listId,\n        name: listName\n      });\n    } catch (err) {\n      var _err$response20, _err$response21, _err$response21$data;\n      console.error(\"Error updating list name:\", ((_err$response20 = err.response) === null || _err$response20 === void 0 ? void 0 : _err$response20.data) || err);\n      const errorMessage = ((_err$response21 = err.response) === null || _err$response21 === void 0 ? void 0 : (_err$response21$data = _err$response21.data) === null || _err$response21$data === void 0 ? void 0 : _err$response21$data.error) || \"Ошибка при обновлении названия списка\";\n      setNotification(errorMessage);\n      setTimeout(() => setNotification(\"\"), 3000);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"shopping-list\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: currentUserId === owner ? /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: listName,\n        onChange: e => setListName(e.target.value),\n        onBlur: updateListName,\n        className: \"list-name-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this) : listName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this), notification && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notification\",\n      children: notification\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: newItem,\n        onChange: e => setNewItem(e.target.value),\n        placeholder: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u043E\\u0432\\u0430\\u0440...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addItem,\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"item-list\",\n      children: items.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: item.completed ? \"completed\" : \"\",\n        style: {\n          textDecoration: item.completed ? \"line-through\" : \"none\",\n          color: item.completed ? \"#A0AEC0\" : \"#2D3748\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: item.completed,\n          onChange: () => toggleItemCompletion(item._id, !item.completed)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this), item.name]\n      }, item._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"delete-completed\",\n      onClick: deleteCompletedItems,\n      disabled: !items.some(item => item.completed),\n      children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043E\\u0442\\u043C\\u0435\\u0447\\u0435\\u043D\\u043D\\u044B\\u0435\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\u0423\\u0447\\u0430\\u0441\\u0442\\u043D\\u0438\\u043A\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"member-list\",\n      children: members.map(member => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [member.email, member.userId === owner && \" (владелец)\", currentUserId === owner && member.userId !== owner && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => removeMember(member.userId),\n          children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 15\n        }, this)]\n      }, member.userId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"action-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: shareList,\n        children: \"\\u041F\\u043E\\u0434\\u0435\\u043B\\u0438\\u0442\\u044C\\u0441\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: leaveList,\n        children: \"\\u041F\\u043E\\u043A\\u0438\\u043D\\u0443\\u0442\\u044C \\u0441\\u043F\\u0438\\u0441\\u043E\\u043A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(\"/dashboard\"),\n        children: \"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u0432 Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\u0412\\u043B\\u0430\\u0434\\u0435\\u043B\\u0435\\u0446: \", ownerEmail]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 253,\n    columnNumber: 5\n  }, this);\n};\n_s(ShoppingList, \"1k19fd5qz9XxPNe+rXtKt5U7wsE=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ShoppingList;\nexport default ShoppingList;\nvar _c;\n$RefreshReg$(_c, \"ShoppingList\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","io","jsxDEV","_jsxDEV","API_URL","socket","autoConnect","reconnection","reconnectionAttempts","reconnectionDelay","ShoppingList","_s","listId","navigate","items","setItems","newItem","setNewItem","members","setMembers","owner","setOwner","ownerEmail","setOwnerEmail","listName","setListName","currentUserId","setCurrentUserId","notification","setNotification","getAuthHeaders","headers","Authorization","localStorage","getItem","fetchList","console","log","res","get","data","name","err","_err$response","_err$response2","_err$response3","_err$response3$data","_err$response4","_err$response5","error","response","errorMessage","status","setTimeout","connect","then","sort","a","b","joinedAt","setOwnerId","catch","_err$response6","_err$response7","_err$response8","state","on","kickedListId","off","disconnect","addItem","post","emit","_err$response9","_err$response0","_err$response1","_err$response1$data","toggleItemCompletion","itemId","completed","put","_err$response10","_err$response11","_err$response12","_err$response12$data","deleteCompletedItems","delete","_err$response13","_err$response14","_err$response15","_err$response15$data","shareList","listUrl","window","location","origin","navigator","clipboard","writeText","leaveList","message","_err$response16","_err$response17","_err$response17$data","removeMember","userId","filter","m","_err$response18","_err$response19","_err$response19$data","updateListName","_err$response20","_err$response21","_err$response21$data","className","children","type","value","onChange","e","target","onBlur","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onClick","map","item","style","textDecoration","color","checked","_id","disabled","some","member","email","_c","$RefreshReg$"],"sources":["/Users/rahatmustafin/Documents/Projects/ShopSmart/client/src/components/ShoppingList.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport io from \"socket.io-client\";\nimport \"../styles/ShoppingList.css\";\n\nconst API_URL = \"http://localhost:5001\";\nconst socket = io(API_URL, { \n  autoConnect: false,\n  reconnection: true,\n  reconnectionAttempts: 5,\n  reconnectionDelay: 1000,\n});\n\nconst ShoppingList = () => {\n  const { listId } = useParams();\n  const navigate = useNavigate();\n  const [items, setItems] = useState([]);\n  const [newItem, setNewItem] = useState(\"\");\n  const [members, setMembers] = useState([]);\n  const [owner, setOwner] = useState(\"\");\n  const [ownerEmail, setOwnerEmail] = useState(\"\");\n  const [listName, setListName] = useState(\"\");\n  const [currentUserId, setCurrentUserId] = useState(\"\");\n  const [notification, setNotification] = useState(\"\");\n\n  const getAuthHeaders = () => ({\n    headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n  });\n\n  const fetchList = async () => {\n    try {\n      console.log(\"Fetching list:\", listId);\n      const res = await axios.get(`${API_URL}/lists/${listId}`, getAuthHeaders());\n      console.log(\"List data received:\", res.data);\n      setItems(res.data.items || []);\n      setMembers(res.data.members || []);\n      setOwner(res.data.owner);\n      setOwnerEmail(res.data.ownerEmail);\n      setListName(res.data.name);\n      setCurrentUserId(res.data.currentUserId);\n    } catch (err) {\n      console.error(\"Error fetching list:\", err.response?.data || err);\n      const errorMessage =\n        err.response?.status === 403\n          ? \"Вы не участник этого списка\"\n          : err.response?.data?.error || \"Ошибка при загрузке списка\";\n      setNotification(errorMessage);\n      setTimeout(() => setNotification(\"\"), 3000);\n      if (err.response?.status === 403 || err.response?.status === 404) {\n        navigate(\"/dashboard\");\n      }\n    }\n  };\n\n  useEffect(() => {\n    console.log(\"Setting up socket for list:\", listId, \"user:\", localStorage.getItem(\"userId\"));\n    \n    socket.connect();\n\n    axios\n      .get(`${API_URL}/lists/${listId}`, getAuthHeaders())\n      .then((res) => {\n        console.log(\"List data:\", res.data);\n        setItems(res.data.items || []);\n        setMembers(res.data.members.sort((a, b) => a.joinedAt - b.joinedAt));\n        setOwnerId(res.data.owner);\n        setOwnerEmail(res.data.ownerEmail || \"Неизвестно\");\n        setListName(res.data.name);\n        setCurrentUserId(res.data.currentUserId);\n      })\n      .catch((err) => {\n        console.error(\"Error fetching list:\", err.response?.data || err);\n        if (err.response?.status === 404) {\n          navigate(\"/dashboard\", { state: { notification: \"Список не найден или вы были удалены\" } });\n        } else if (err.response?.status === 403) {\n          navigate(\"/dashboard\", { state: { notification: \"Вы не участник этого списка\" } });\n        } else {\n          navigate(\"/dashboard\");\n        }\n      });\n\n    socket.on(\"listUpdated\", ({ items, members, name }) => {\n      console.log(\"Received listUpdated:\", { items, members, name });\n      setItems(items || []);\n      setMembers(members ? members.sort((a, b) => a.joinedAt - b.joinedAt) : []);\n      if (name) setListName(name);\n    });\n\n    socket.on(\"kickedFromList\", ({ listId: kickedListId, name }) => {\n      console.log(\"Received kickedFromList:\", { kickedListId, name }, \"Current listId:\", listId);\n      if (kickedListId === listId) {\n        navigate(\"/dashboard\", { state: { notification: `Владелец списка удалил вас из \"${name}\"` } });\n      }\n    });\n\n    fetchList();\n\n    return () => {\n      console.log(\"Cleaning up socket for list:\", listId);\n      socket.off(\"connect\");\n      socket.off(\"connect_error\");\n      socket.off(\"listUpdated\");\n      socket.off(\"kickedFromList\");\n      socket.disconnect();\n    };\n  }, [listId]);\n\n  const addItem = async () => {\n    if (!newItem) return;\n    try {\n      console.log(\"Sending add item:\", newItem, \"to list:\", listId);\n      const res = await axios.post(\n        `${API_URL}/lists/items/${listId}`,\n        { name: newItem },\n        getAuthHeaders()\n      );\n      console.log(\"Add item response:\", res.data);\n      setItems(res.data.items);\n      socket.emit(\"updateList\", { listId, items: res.data.items });\n      setNewItem(\"\");\n    } catch (err) {\n      console.error(\"Error adding item:\", err.response?.data || err);\n      const errorMessage =\n        err.response?.status === 404\n          ? \"Список не найден\"\n          : err.response?.data?.error || \"Ошибка при добавлении товара\";\n      setNotification(errorMessage);\n      setTimeout(() => setNotification(\"\"), 3000);\n    }\n  };\n\n  const toggleItemCompletion = async (itemId, completed) => {\n    try {\n      console.log(\"Sending toggle item:\", itemId, \"to completed:\", completed);\n      const res = await axios.put(\n        `${API_URL}/lists/items/${itemId}/complete`,\n        { completed },\n        getAuthHeaders()\n      );\n      console.log(\"Toggle item response:\", res.data);\n      setItems(res.data.items);\n      socket.emit(\"updateList\", { listId, items: res.data.items });\n    } catch (err) {\n      console.error(\"Error toggling item:\", err.response?.data || err);\n      const errorMessage =\n        err.response?.status === 404\n          ? \"Элемент или список не найден\"\n          : err.response?.data?.error || \"Ошибка при обновлении статуса товара\";\n      setNotification(errorMessage);\n      setTimeout(() => setNotification(\"\"), 3000);\n    }\n  };\n\n  const deleteCompletedItems = async () => {\n    try {\n      console.log(\"Sending delete completed items for list:\", listId);\n      const res = await axios.delete(\n        `${API_URL}/lists/${listId}/items/completed`,\n        { headers: getAuthHeaders().headers }\n      );\n      console.log(\"Delete completed items response:\", res.data);\n      setItems(res.data.items);\n      socket.emit(\"updateList\", { listId, items: res.data.items });\n    } catch (err) {\n      console.error(\"Error deleting completed items:\", err.response?.data || err);\n      const errorMessage =\n        err.response?.status === 404\n          ? \"Список не найден\"\n          : err.response?.data?.error || \"Ошибка при удалении отмеченных товаров\";\n      setNotification(errorMessage);\n      setTimeout(() => setNotification(\"\"), 3000);\n    }\n  };\n\n  const shareList = async () => {\n    try {\n      console.log(\"Sharing list:\", listId);\n      const listUrl = `${window.location.origin}/list/${listId}`;\n      await navigator.clipboard.writeText(listUrl);\n      setNotification(\"Ссылка на список скопирована!\");\n      setTimeout(() => setNotification(\"\"), 3000);\n    } catch (err) {\n      console.error(\"Error sharing list:\", err);\n      setNotification(\"Ошибка при копировании ссылки\");\n      setTimeout(() => setNotification(\"\"), 3000);\n    }\n  };\n\n  const leaveList = async () => {\n    try {\n      console.log(\"Sending leave list:\", listId);\n      const res = await axios.post(\n        `${API_URL}/lists/${listId}/leave`,\n        {},\n        getAuthHeaders()\n      );\n      console.log(\"Leave list response:\", res.data);\n      setNotification(res.data.message);\n      setTimeout(() => navigate(\"/dashboard\"), 2000);\n    } catch (err) {\n      console.error(\"Error leaving list:\", err.response?.data || err);\n      const errorMessage =\n        err.response?.data?.error || \"Ошибка при выходе из списка\";\n      setNotification(errorMessage);\n      setTimeout(() => setNotification(\"\"), 3000);\n    }\n  };\n\n  const removeMember = async (userId) => {\n    try {\n      console.log(\"Sending remove member:\", userId, \"from list:\", listId);\n      const res = await axios.delete(\n        `${API_URL}/lists/${listId}/members/${userId}`,\n        getAuthHeaders()\n      );\n      console.log(\"Remove member response:\", res.data);\n      setNotification(res.data.message);\n      setTimeout(() => setNotification(\"\"), 3000);\n      setMembers(members.filter((m) => m.userId !== userId));\n      socket.emit(\"updateList\", { listId, members: members.filter((m) => m.userId !== userId) });\n    } catch (err) {\n      console.error(\"Error removing member:\", err.response?.data || err);\n      const errorMessage =\n        err.response?.data?.error || \"Ошибка при удалении участника\";\n      setNotification(errorMessage);\n      setTimeout(() => setNotification(\"\"), 3000);\n    }\n  };\n\n  const updateListName = async () => {\n    try {\n      console.log(\"Sending update list name to:\", listName, \"for list:\", listId);\n      const res = await axios.put(\n        `${API_URL}/lists/${listId}`,\n        { name: listName },\n        getAuthHeaders()\n      );\n      console.log(\"Update list name response:\", res.data);\n      setNotification(res.data.message);\n      setTimeout(() => setNotification(\"\"), 3000);\n      socket.emit(\"updateList\", { listId, name: listName });\n    } catch (err) {\n      console.error(\"Error updating list name:\", err.response?.data || err);\n      const errorMessage =\n        err.response?.data?.error || \"Ошибка при обновлении названия списка\";\n      setNotification(errorMessage);\n      setTimeout(() => setNotification(\"\"), 3000);\n    }\n  };\n\n  return (\n    <div className=\"shopping-list\">\n      <h2>\n        {currentUserId === owner ? (\n          <input\n            type=\"text\"\n            value={listName}\n            onChange={(e) => setListName(e.target.value)}\n            onBlur={updateListName}\n            className=\"list-name-input\"\n          />\n        ) : (\n          listName\n        )}\n      </h2>\n      {notification && <div className=\"notification\">{notification}</div>}\n\n      <div className=\"input-group\">\n        <input\n          type=\"text\"\n          value={newItem}\n          onChange={(e) => setNewItem(e.target.value)}\n          placeholder=\"Добавить товар...\"\n        />\n        <button onClick={addItem}>Добавить</button>\n      </div>\n\n      <ul className=\"item-list\">\n        {items.map((item) => (\n          <li\n            key={item._id}\n            className={item.completed ? \"completed\" : \"\"}\n            style={{\n              textDecoration: item.completed ? \"line-through\" : \"none\",\n              color: item.completed ? \"#A0AEC0\" : \"#2D3748\",\n            }}\n          >\n            <input\n              type=\"checkbox\"\n              checked={item.completed}\n              onChange={() => toggleItemCompletion(item._id, !item.completed)}\n            />\n            {item.name}\n          </li>\n        ))}\n      </ul>\n\n      <button\n        className=\"delete-completed\"\n        onClick={deleteCompletedItems}\n        disabled={!items.some((item) => item.completed)}\n      >\n        Удалить отмеченные\n      </button>\n\n      <h3>Участники</h3>\n      <ul className=\"member-list\">\n        {members.map((member) => (\n          <li key={member.userId}>\n            {member.email}\n            {member.userId === owner && \" (владелец)\"}\n            {currentUserId === owner && member.userId !== owner && (\n              <button onClick={() => removeMember(member.userId)}>Удалить</button>\n            )}\n          </li>\n        ))}\n      </ul>\n\n      <div className=\"action-buttons\">\n        <button onClick={shareList}>Поделиться</button>\n        <button onClick={leaveList}>Покинуть список</button>\n        <button onClick={() => navigate(\"/dashboard\")}>Вернуться в Dashboard</button>\n      </div>\n\n      <p>Владелец: {ownerEmail}</p>\n    </div>\n  );\n};\n\nexport default ShoppingList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}